<!-- Formulaire de crÃ©ation de salaire -->


<div class="form-container" *ngIf="!edited">
  <form class="form" [formGroup]="formGroup" (submit)="insert(date.value, title.value, comment.value, amount.value, selectedEmployee ); $event.preventDefault()">
    <h1>{{"salary.newSalary" | translate}}</h1>
    <mat-form-field appearance="fill">
      <mat-label>{{"salary.date" | translate}}</mat-label>
      <input #date formControlName="createDate" matInput  [matDatepicker]="picker">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
      <mat-error *ngIf="formGroup.get('createDate')?.hasError('required')">
        {{"salary.dateIs" | translate}}&nbsp;<strong>{{"salary.required" | translate}}</strong>
      </mat-error>
    </mat-form-field>
    <br>
    <mat-form-field appearance="fill">
      <mat-label>{{"salary.title" | translate}}</mat-label>
      <input #title formControlName="title" matInput>
      <mat-error *ngIf="formGroup.get('title')?.hasError('required')">
        {{"salary.titleIs" | translate}}&nbsp;<strong>{{"salary.required" | translate}}</strong>
      </mat-error>
    </mat-form-field>
    <br>
    <mat-form-field appearance="fill">
      <mat-label>{{"salary.comment" | translate}}</mat-label>
      <input #comment formControlName="comment" matInput>
      <mat-error *ngIf="formGroup.get('comment')?.hasError('required')">
        {{"salary.commentIs" | translate}}&nbsp;<strong>{{"salary.required" | translate}}</strong>
      </mat-error>
    </mat-form-field>
    <br>
    <mat-form-field appearance="fill">
      <mat-label>{{"salary.amount" | translate}}</mat-label>
      <input #amount formControlName="amount" matInput>
      <mat-error *ngIf="formGroup.get('amount')?.hasError('required') || formGroup.get('amount')?.hasError('pattern')">
        {{"salary.amountIs" | translate}}&nbsp;<strong>{{"salary.required" | translate}}</strong>&nbsp;{{"salary.onlyContainNumber" | translate}}&nbsp;<strong>{{"salary.numbers" | translate}}</strong>
      </mat-error>
    </mat-form-field>
    <br>
    <mat-form-field appearance="fill" class="employees-form">
      <mat-label>{{"salary.employee" | translate}}</mat-label>
      <mat-select class="employees-select" formControlName="employee"  [(value)]="selectedEmployee">
        <mat-option class="employees-option" *ngFor="let employee of employees" [value]="employee">
          {{employee.lastname }} {{employee.firstname}}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="formGroup.get('employee')?.hasError('required')">
        {{"salary.employeeIs" | translate}}&nbsp;<strong>{{"salary.required" | translate}}</strong>
      </mat-error>
    </mat-form-field>
    <br>
    <div class="button-container">
      <button mat-raised-button color="warn" class="cancel-button" [mat-dialog-close]="true">{{"salary.cancel" | translate}}</button>
      <button mat-raised-button type="submit" class="confirm-button" [mat-dialog-close]="true" [disabled]="!formGroup.valid" color="accent">{{"salary.insert" | translate}}</button>
    </div>

  </form>
</div>
